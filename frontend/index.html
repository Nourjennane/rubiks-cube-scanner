<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Rubik's Cube Solver</title>

    <!-- Twisty Player (WORKING VERSION â€“ DO NOT TOUCH) -->
    <script src="https://cdn.cubing.net/v0/js/cubing/twisty" type="module"></script>

    <link rel="stylesheet" href="style.css" />
</head>

<body class="apple-light">

    <h1 class="title">Rubik's Cube Solver</h1>

    <button id="themeToggle" class="theme-toggle">ğŸŒ™ Dark Mode</button>

    <div class="container">

        <!-- Cube Viewer -->
        <div id="cube-viewer" class="glass-card cube-card">
            <twisty-player
                id="twisty"
                puzzle="3x3x3"
                background="light"
                control-panel="none">
            </twisty-player>
        </div>

        <!-- Controls -->
        <div class="controls glass-card">
            <h2 class="controls-title">Controls</h2>

            <button id="scrambleBtn" class="glass-btn">ğŸ”€ Scramble</button>
            <button id="playBtn"     class="glass-btn">â–¶ï¸ Play Animation</button>
            <button id="resetBtn"    class="glass-btn">ğŸ”„ Reset Scanned Cube</button>
            <button id="resetVirtualBtn" class="glass-btn">â™»ï¸ Reset Virtual Cube</button>
            <button id="solveVirtualBtn" class="glass-btn">ğŸ§  Solve Virtual Cube</button>
            <button id="solveExternalBtn" class="glass-btn">ğŸ“¦ Solve Pasted / Scanned Cube</button>

            <!-- âœ… NEW: STEP CONTROLS -->
            <button id="prevStepBtn" class="glass-btn">â®ï¸ Back</button>
            <button id="nextStepBtn" class="glass-btn">â­ï¸ Forward</button>
            <div id="stepLabel" style="margin-top: 6px; font-weight: 600;"></div>

            <hr />

            <!-- Cube string input -->
            <h3>Paste cube string (URFDLB)</h3>
            <textarea
                id="cubeStringInput"
                rows="3"
                placeholder="54 characters (URFDLB order)">
            </textarea>

            <button id="displayStringBtn" class="glass-btn">
                ğŸ‘ï¸ Display Cube String
            </button>

            <h3>Solution moves:</h3>
            <pre id="moveList">No solution yet.</pre>
        </div>
    </div>

    <!-- Cube.js -->
    <script src="https://cdn.jsdelivr.net/npm/cubejs/lib/cube.min.js"></script>

    <!-- App logic -->
    <script src="app.js"></script>

</body>
</html>